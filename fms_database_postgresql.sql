-- Converted from MySQL to PostgreSQL
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;

-- phpMyAdmin SQL Dump -- version 5.2.2 -- https://www.phpmyadmin.net/ -- -- Host: localhost:3306 -- Generation Time: Sep 05, 2025 at 01:25 PM -- Server version: 8.4.3 -- PHP Version: 8.3.16 START TRANSACTION; -- -- Database: "fms_database" -- CREATE DATABASE IF NOT EXISTS "fms_database" DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci; USE "fms_database"; -- -------------------------------------------------------- -- -- Table structure for table "attendances" -- DROP TABLE IF EXISTS "attendances"; CREATE TABLE "attendances" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "date" date NOT NULL, "time_in" TIMESTAMP DEFAULT NULL, "time_out" TIMESTAMP DEFAULT NULL, "time_in_photo" VARCHAR(255) DEFAULT NULL, "time_out_photo" VARCHAR(255) DEFAULT NULL, "time_in_location" VARCHAR(255) DEFAULT NULL, "time_out_location" VARCHAR(255) DEFAULT NULL, "total_hours" decimal(10,2) NOT NULL DEFAULT '0.00', "status" enum('present','absent','late','early_departure','half_day') NOT NULL DEFAULT 'present', "notes" TEXT, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "attendances" -- INSERT INTO "attendances" ("id", "faculty_id", "date", "time_in", "time_out", "time_in_photo", "time_out_photo", "time_in_location", "time_out_location", "total_hours", "status", "notes", "created_at", "updated_at") VALUES (1, 1, '2025-09-03', '2025-09-03 14:58:34', '2025-09-03 15:32:55', 'attendance_photos/1/2025-09-03/attendance_time_in_1_2025-09-03_1756882714.jpg', 'attendance_photos/1/2025-09-03/attendance_time_out_1_2025-09-03_1756884775.jpg', '14.626300, 121.039900', '14.626300, 121.039900', 0.57, 'half_day', NULL, '2025-09-03 06:58:35', '2025-09-03 07:32:55'), (3, 1, '2025-09-05', '2025-09-05 20:48:59', NULL, 'attendance_photos/1/2025-09-05/attendance_time_in_1_2025-09-05_1757076539.jpg', NULL, '14.626300, 121.039900', NULL, 0.00, 'late', NULL, '2025-09-05 12:49:00', '2025-09-05 12:49:00'); -- -------------------------------------------------------- -- -- Table structure for table "cache" -- DROP TABLE IF EXISTS "cache"; CREATE TABLE "cache" ( "key" VARCHAR(255) NOT NULL, "value" TEXT NOT NULL, "expiration" int NOT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "cache_locks" -- DROP TABLE IF EXISTS "cache_locks"; CREATE TABLE "cache_locks" ( "key" VARCHAR(255) NOT NULL, "owner" VARCHAR(255) NOT NULL, "expiration" int NOT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "clearances" -- DROP TABLE IF EXISTS "clearances"; CREATE TABLE "clearances" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "clearance_type" VARCHAR(255) NOT NULL, "issued_date" date NOT NULL, "expiration_date" date DEFAULT NULL, "is_cleared" BOOLEAN NOT NULL DEFAULT '0', "remarks" TEXT, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "clearance_requests" -- DROP TABLE IF EXISTS "clearance_requests"; CREATE TABLE "clearance_requests" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "clearance_type" VARCHAR(255) NOT NULL, "reason" TEXT NOT NULL, "status" enum('pending','approved','rejected') NOT NULL DEFAULT 'pending', "admin_remarks" TEXT, "requested_at" TIMESTAMP NOT NULL, "processed_at" TIMESTAMP DEFAULT NULL, "processed_by" int DEFAULT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "clearance_requests" -- INSERT INTO "clearance_requests" ("id", "faculty_id", "clearance_type", "reason", "status", "admin_remarks", "requested_at", "processed_at", "processed_by", "created_at", "updated_at") VALUES (1, 1, 'grade_submission_confirmation', 'asdasasd', 'pending', NULL, '2025-09-03 15:03:32', NULL, NULL, '2025-09-03 07:03:32', '2025-09-03 07:03:32'); -- -------------------------------------------------------- -- -- Table structure for table "evaluations" -- DROP TABLE IF EXISTS "evaluations"; CREATE TABLE "evaluations" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "teaching_history_id" int DEFAULT NULL, "evaluation_period" VARCHAR(255) NOT NULL, "academic_year" int NOT NULL, "semester" VARCHAR(255) NOT NULL, "teaching_effectiveness" decimal(5,2) NOT NULL DEFAULT '0.00', "subject_matter_knowledge" decimal(5,2) NOT NULL DEFAULT '0.00', "classroom_management" decimal(5,2) NOT NULL DEFAULT '0.00', "communication_skills" decimal(5,2) NOT NULL DEFAULT '0.00', "student_engagement" decimal(5,2) NOT NULL DEFAULT '0.00', "overall_rating" decimal(5,2) NOT NULL DEFAULT '0.00', "strengths" TEXT, "areas_for_improvement" TEXT, "recommendations" TEXT, "is_published" BOOLEAN NOT NULL DEFAULT '0', "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "faculties" -- DROP TABLE IF EXISTS "faculties"; CREATE TABLE "faculties" ( "id SERIAL PRIMARY KEY, "professor_id" VARCHAR(255) NOT NULL, "name" VARCHAR(255) NOT NULL, "email" VARCHAR(255) NOT NULL, "password" VARCHAR(255) NOT NULL, "picture" VARCHAR(255) DEFAULT NULL, "status" VARCHAR(255) NOT NULL DEFAULT 'active', "skills" TEXT, "experiences" TEXT, "remember_token" VARCHAR(100) DEFAULT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL, "role" VARCHAR(255) NOT NULL DEFAULT 'professor', "deleted_at" TIMESTAMP NULL DEFAULT NULL, "employment_type" VARCHAR(255) NOT NULL DEFAULT 'Full-Time', "department" VARCHAR(255) DEFAULT 'BSIT' ) ; -- -- Dumping data for table "faculties" -- INSERT INTO "faculties" ("id", "professor_id", "name", "email", "password", "picture", "status", "skills", "experiences", "remember_token", "created_at", "updated_at", "role", "deleted_at", "employment_type", "department") VALUES (1, 'PROF-2025-0001', 'Emma Watson', 'abadenisraymond@gmail.com', '$2y$12$Wezcbv5Rnsc1abG2SDjM3ueEX2uIEA2EOtn3jgjxwZDKpD6uUolEK', NULL, 'active', NULL, NULL, NULL, '2025-09-03 00:00:35', '2025-09-03 06:57:58', 'professor', NULL, 'Full-Time', 'BSIT'), (2, 'PROF-2025-0002', 'Rosey Empanada', 'rosemarieescala6@gmail.com', '$2y$12$JueoEb6g9yO8F1IHom8HvuYlb2zIdVnBfDyS7NbWnVerSfVE2PNIK', NULL, 'active', NULL, NULL, NULL, '2025-09-05 11:56:44', '2025-09-05 11:56:44', 'professor', NULL, 'Full-Time', 'BSOA'), (3, 'PROF-2025-0003', 'Jarvan IV', 'Riotgames@gmail.com', '$2y$12$iKAWLPEd8mUu1vD3ZY7pkeOSmeoQaDx29DF/BvdzhOuJD6pdUzZmi', NULL, 'active', NULL, NULL, NULL, '2025-09-05 11:58:13', '2025-09-05 11:58:13', 'professor', NULL, 'Part-Time', 'BSIT'), (4, 'PROF-2025-0004', 'Riza Mae Dizon', 'rreproto0313@gmail.com', '$2y$12$QDbnJBKxTb9ZddcUMT5DSuyugdTwOiF090AnoEPSWFEygg4vvmDdu', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:02:17', '2025-09-05 12:02:17', 'professor', NULL, 'Full-Time', 'BSIT'), (5, 'PROF-2025-0005', 'Riza Mae Dizon', 'wengskieabadenis@gmail.com', '$2y$12$I5Nh1bU/LEoCJCVx/l9y/umpMUoSPjzeQLv0J0dMB48yvVXosJDry', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:51:53', '2025-09-05 12:51:53', 'professor', NULL, 'Full-Time', 'BSIT'), (6, 'PROF-2025-0006', 'Kurt Motorista', 'arellano.136515090065@depedqc.ph', '$2y$12$Y.7gQFrRzuZfRnNkcFKILe1uXe5KX9LyDIG4KSp8oVS42oGuItHwO', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:52:24', '2025-09-05 12:52:24', 'professor', NULL, 'Part-Time', 'BSIT'), (7, 'PROF-2025-0007', 'Emannuel Gatus', 'ballesterosemmanuel13@gmail.com', '$2y$12$v2YcB9b5Xr2UIA0rjJ7WwejjMXWu1ulfS0tSeb7tsRf3fQfxkZ.re', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:52:58', '2025-09-05 12:52:58', 'professor', NULL, 'Full-Time', 'BSIT'), (8, 'PROF-2025-0008', 'Reirei Rondin', 'reinheartrondin@gmail.com', '$2y$12$TRc7mir60l8qSM8W/e6HV.eofngdyhPI9sSJCgNvIf6DOqVwQzA4i', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:55:00', '2025-09-05 12:55:00', 'professor', NULL, 'Part-Time', 'BSIT'), (9, 'PROF-2025-0009', 'Christian Hamon', 'ballesterosemmanuel16@gmail.com', '$2y$12$El/WI.7DxJpMbv2/7ClbouJW3j5CjhHp7gLHUdlD4yrQ4jEDdDD7W', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:55:32', '2025-09-05 12:55:32', 'professor', NULL, 'Full-Time', 'BSIT'), (10, 'PROF-2025-0010', 'Edith Global', 'abadenisrustyacetamara@gmail.com', '$2y$12$bToTr/5XLteUQIOeNMy5t.GPwwv06VSbm5jO11tRzQMJVc5j.vwQu', NULL, 'active', NULL, NULL, NULL, '2025-09-05 12:56:08', '2025-09-05 12:56:08', 'professor', NULL, 'Full-Time', 'BSIT'); -- -------------------------------------------------------- -- -- Table structure for table "faculty_salary_grade" -- DROP TABLE IF EXISTS "faculty_salary_grade"; CREATE TABLE "faculty_salary_grade" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "salary_grade_id" int NOT NULL, "effective_date" date NOT NULL, "end_date" date DEFAULT NULL, "notes" TEXT, "is_current" BOOLEAN NOT NULL DEFAULT '1', "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "faculty_salary_grade" -- INSERT INTO "faculty_salary_grade" ("id", "faculty_id", "salary_grade_id", "effective_date", "end_date", "notes", "is_current", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-03', NULL, NULL, 1, '2025-09-03 07:31:57', '2025-09-03 07:31:57'); -- -------------------------------------------------------- -- -- Table structure for table "failed_jobs" -- DROP TABLE IF EXISTS "failed_jobs"; CREATE TABLE "failed_jobs" ( "id SERIAL PRIMARY KEY, "uuid" VARCHAR(255) NOT NULL, "connection" TEXT NOT NULL, "queue" TEXT NOT NULL, "payload" TEXT NOT NULL, "exception" TEXT NOT NULL, "failed_at" TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ) ; -- -------------------------------------------------------- -- -- Table structure for table "jobs" -- DROP TABLE IF EXISTS "jobs"; CREATE TABLE "jobs" ( "id SERIAL PRIMARY KEY, "queue" VARCHAR(255) NOT NULL, "payload" TEXT NOT NULL, "attempts" int NOT NULL, "reserved_at" int DEFAULT NULL, "available_at" int NOT NULL, "created_at" int NOT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "job_batches" -- DROP TABLE IF EXISTS "job_batches"; CREATE TABLE "job_batches" ( "id" VARCHAR(255) NOT NULL, "name" VARCHAR(255) NOT NULL, "total_jobs" int NOT NULL, "pending_jobs" int NOT NULL, "failed_jobs" int NOT NULL, "failed_job_ids" TEXT NOT NULL, "options" TEXT, "cancelled_at" int DEFAULT NULL, "created_at" int NOT NULL, "finished_at" int DEFAULT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "leave_requests" -- DROP TABLE IF EXISTS "leave_requests"; CREATE TABLE "leave_requests" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "type" VARCHAR(255) NOT NULL, "reason" TEXT, "start_date" date NOT NULL, "end_date" date NOT NULL, "status" VARCHAR(255) NOT NULL DEFAULT 'pending', "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL, "file_path" VARCHAR(255) DEFAULT NULL ) ; -- -- Dumping data for table "leave_requests" -- INSERT INTO "leave_requests" ("id", "faculty_id", "type", "reason", "start_date", "end_date", "status", "created_at", "updated_at", "file_path") VALUES (1, 1, 'sick', 'lagnat', '2025-09-04', '2025-09-06', 'pending', '2025-09-03 07:04:35', '2025-09-03 07:04:35', 'leave_attachments/C3KvCfgWLbHMxJmCHK9dETBvTJ4YjyNYhXPjBPAk.pdf'); -- -------------------------------------------------------- -- -- Table structure for table "migrations" -- DROP TABLE IF EXISTS "migrations"; CREATE TABLE "migrations" ( "id SERIAL PRIMARY KEY, "migration" VARCHAR(255) NOT NULL, "batch" int NOT NULL ) ; -- -- Dumping data for table "migrations" -- INSERT INTO "migrations" ("id", "migration", "batch") VALUES (1, '0001_01_01_000000_create_users_table', 1), (2, '0001_01_01_000001_create_cache_table', 1), (3, '0001_01_01_000002_create_jobs_table', 1), (4, '2024_09_01_203400_create_payslips_table', 1), (5, '2025_01_01_000001_create_teaching_histories_table', 1), (6, '2025_01_01_000002_create_clearances_table', 1), (7, '2025_01_01_000003_create_evaluations_table', 1), (8, '2025_01_01_000004_create_faculty_salary_grade_table', 1), (9, '2025_01_02_000000_create_attendances_table', 1), (10, '2025_08_21_145653_add_role_to_users_table', 1), (11, '2025_08_22_055005_create_faculties_table', 1), (12, '2025_08_25_092929_add_profile_fields_to_faculty_table', 1), (13, '2025_08_27_060551_add_role_to_faculty_table', 1), (14, '2025_08_27_062440_update_role_in_faculty_table', 1), (15, '2025_08_28_000000_create_leave_requests_table', 1), (16, '2025_08_28_010000_create_salary_grades_table', 1), (17, '2025_08_28_020000_add_hourly_rates_to_salary_grades_table', 1), (18, '2025_08_28_220434_add_deleted_at_to_faculty_table', 1), (19, '2025_09_01_015810_add_employment_type_to_faculty_table', 1), (20, '2025_09_01_030303_add_attachment_to_leave_requests_table', 1), (21, '2025_09_01_221613_simplify_salary_grades_table', 1), (22, '2025_09_01_222054_update_payslips_table_structure', 1), (23, '2025_09_01_230616_create_clearance_requests_table', 1), (24, '2025_09_02_112740_create_subject_load_trackers_table', 1), (25, '2025_09_02_143040_create_schedule_assignments_table', 1), (26, '2025_09-02_200225_fix_attendances_foreign_key_constraint', 1), (27, '2025_09_02_203611_fix_evaluations_foreign_key_constraint', 1), (28, '2025_09_02_211343_fix_faculty_foreign_key_constraints', 1), (29, '2025_09_05_101059_add_department_to_faculties_table', 2), (30, '2025_01_01_000000_create_faculties_table', 1), (31, '2025_01_01_000005_create_salary_grades_table', 1), (32, '2025_01_01_000006_create_faculty_salary_grade_table', 1), (33, '2025_08_30_203400_create_payslips_table', 1), (34, '2025_09_02_200225_fix_attendances_foreign_key_constraint', 1), (35, '2025_09_05_101033_add_department_to_users_table', 1), (36, '2025_09_05_174607_add_department_to_salary_grades_table', 3); -- -------------------------------------------------------- -- -- Table structure for table "password_reset_tokens" -- DROP TABLE IF EXISTS "password_reset_tokens"; CREATE TABLE "password_reset_tokens" ( "email" VARCHAR(255) NOT NULL, "token" VARCHAR(255) NOT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "payslips" -- DROP TABLE IF EXISTS "payslips"; CREATE TABLE "payslips" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "year" int NOT NULL, "month" int NOT NULL, "employment_type" VARCHAR(255) NOT NULL, "total_hours" decimal(10,2) NOT NULL, "base_salary" decimal(15,2) NOT NULL, "total_deductions" decimal(15,2) NOT NULL DEFAULT '0.00', "net_salary" decimal(15,2) NOT NULL, "present_days" int NOT NULL, "absent_days" int NOT NULL, "late_days" int NOT NULL, "attendance_summary" TEXT, "status" VARCHAR(255) NOT NULL DEFAULT 'draft', "generated_at" TIMESTAMP NOT NULL, "finalized_at" TIMESTAMP DEFAULT NULL, "paid_at" TIMESTAMP DEFAULT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "payslips" -- INSERT INTO "payslips" ("id", "faculty_id", "year", "month", "employment_type", "total_hours", "base_salary", "total_deductions", "net_salary", "present_days", "absent_days", "late_days", "attendance_summary", "status", "generated_at", "finalized_at", "paid_at", "created_at", "updated_at") VALUES (1, 1, 2025, 9, 'Full-Time', 0.00, 500.00, 500.00, 0.00, 0, 0, 1, '{\"total_records\":1,\"present_days\":0,\"late_days\":1,\"absent_days\":0,\"total_hours\":0,\"average_hours_per_day\":0}', 'draft', '2025-09-03 15:32:12', NULL, NULL, '2025-09-03 07:32:12', '2025-09-03 07:32:12'); -- -------------------------------------------------------- -- -- Table structure for table "salary_grades" -- DROP TABLE IF EXISTS "salary_grades"; CREATE TABLE "salary_grades" ( "id SERIAL PRIMARY KEY, "grade" int NOT NULL, "step" int NOT NULL DEFAULT '1', "allowance" decimal(15,2) NOT NULL DEFAULT '0.00', "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL, "full_time_base_salary" decimal(15,2) DEFAULT NULL, "part_time_base_salary" decimal(15,2) DEFAULT NULL, "department" VARCHAR(255) DEFAULT NULL ) ; -- -- Dumping data for table "salary_grades" -- INSERT INTO "salary_grades" ("id", "grade", "step", "allowance", "created_at", "updated_at", "full_time_base_salary", "part_time_base_salary", "department") VALUES (2, 1, 1, 0.00, '2025-09-03 07:31:40', '2025-09-03 07:31:40', 500.00, 300.00, 'BSIT'); -- -------------------------------------------------------- -- -- Table structure for table "schedule_assignments" -- DROP TABLE IF EXISTS "schedule_assignments"; CREATE TABLE "schedule_assignments" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "subject_code" VARCHAR(255) NOT NULL, "subject_name" VARCHAR(255) NOT NULL, "section" VARCHAR(255) NOT NULL, "year_level" enum('1st Year','2nd Year','3rd Year','4th Year','5th Year') NOT NULL, "units" int NOT NULL, "hours_per_week" int NOT NULL, "schedule_day" enum('monday','tuesday','wednesday','thursday','friday','saturday','sunday') NOT NULL, "start_time" time NOT NULL, "end_time" time NOT NULL, "room" VARCHAR(255) DEFAULT NULL, "academic_year" int NOT NULL, "semester" enum('1st Semester','2nd Semester','Summer') NOT NULL, "status" enum('active','inactive','completed') NOT NULL DEFAULT 'active', "source" enum('direct','subject_load_tracker') NOT NULL DEFAULT 'direct', "notes" TEXT, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL, "deleted_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "schedule_assignments" -- INSERT INTO "schedule_assignments" ("id", "faculty_id", "subject_code", "subject_name", "section", "year_level", "units", "hours_per_week", "schedule_day", "start_time", "end_time", "room", "academic_year", "semester", "status", "source", "notes", "created_at", "updated_at", "deleted_at") VALUES (1, 1, 'ITE102', 'IT Elective 2', 'BSIT 1101', '1st Year', 3, 3, 'monday', '15:00:00', '17:00:00', '207', 2025, '1st Semester', 'active', 'direct', NULL, '2025-09-03 00:07:27', '2025-09-03 00:15:05', '2025-09-03 00:15:05'), (2, 1, 'ITE101', 'IT Elective 1', 'BSIT 1101', '1st Year', 3, 3, 'monday', '15:00:00', '17:00:00', '207', 2025, '1st Semester', 'active', 'direct', NULL, '2025-09-03 00:21:24', '2025-09-03 00:21:24', NULL); -- -------------------------------------------------------- -- -- Table structure for table "sessions" -- DROP TABLE IF EXISTS "sessions"; CREATE TABLE "sessions" ( "id" VARCHAR(255) NOT NULL, "user_id" int DEFAULT NULL, "ip_address" VARCHAR(45) DEFAULT NULL, "user_agent" TEXT, "payload" TEXT NOT NULL, "last_activity" int NOT NULL ) ; -- -- Dumping data for table "sessions" -- INSERT INTO "sessions" ("id", "user_id", "ip_address", "user_agent", "payload", "last_activity") VALUES ('u0BKceTo1OAnU5e8FCX7XLWT2H3QjFroVkfyG5Jq', 2, '127.0.0.1', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36', 'YTo0OntzOjY6Il90b2tlbiI7czo0MDoiNFhFMHJSNFhDQndJdmpZcUdwNXY1dGM2SG5XMjhwbGV2bGNnRkZ5byI7czo2OiJfZmxhc2giO2E6Mjp7czozOiJuZXciO2E6MDp7fXM6Mzoib2xkIjthOjA6e319czo5OiJfcHJldmlvdXMiO2E6MTp7czozOiJ1cmwiO3M6Mzc6Imh0dHA6Ly8xMjcuMC4wLjE6ODAwMC9hZG1pbi9kYXNoYm9hcmQiO31zOjUwOiJsb2dpbl93ZWJfNTliYTM2YWRkYzJiMmY5NDAxNTgwZjAxNGM3ZjU4ZWE0ZTMwOTg5ZCI7aToyO30=', 1757077409); -- -------------------------------------------------------- -- -- Table structure for table "subject_load_trackers" -- DROP TABLE IF EXISTS "subject_load_trackers"; CREATE TABLE "subject_load_trackers" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "subject_code" VARCHAR(255) NOT NULL, "subject_name" VARCHAR(255) NOT NULL, "section" VARCHAR(255) NOT NULL, "units" int NOT NULL, "hours_per_week" int NOT NULL, "schedule_day" enum('monday','tuesday','wednesday','thursday','friday','saturday','sunday') NOT NULL, "start_time" time NOT NULL, "end_time" time NOT NULL, "room" VARCHAR(255) DEFAULT NULL, "academic_year" int NOT NULL, "semester" enum('1st Semester','2nd Semester','Summer') NOT NULL, "status" enum('active','inactive','completed') NOT NULL DEFAULT 'active', "source" enum('direct','subject_load_tracker') NOT NULL DEFAULT 'subject_load_tracker', "year_level" VARCHAR(255) DEFAULT NULL, "notes" TEXT, "deleted_at" TIMESTAMP NULL DEFAULT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -- Dumping data for table "subject_load_trackers" -- INSERT INTO "subject_load_trackers" ("id", "faculty_id", "subject_code", "subject_name", "section", "units", "hours_per_week", "schedule_day", "start_time", "end_time", "room", "academic_year", "semester", "status", "source", "year_level", "notes", "deleted_at", "created_at", "updated_at") VALUES (1, 1, 'CC102', 'Computer Programming 1', 'BSIT 1101', 3, 3, 'monday', '13:00:00', '15:00:00', '207', 2025, '1st Semester', 'active', 'subject_load_tracker', '1st Year', NULL, '2025-09-03 00:06:36', '2025-09-03 00:04:44', '2025-09-03 00:06:36'), (2, 1, 'ITE102', 'IT Elective 2', 'BSIT 1101', 3, 3, 'monday', '13:00:00', '15:00:00', '207', 2025, '1st Semester', 'active', 'subject_load_tracker', '1st Year', NULL, NULL, '2025-09-03 00:18:48', '2025-09-03 00:18:48'); -- -------------------------------------------------------- -- -- Table structure for table "teaching_histories" -- DROP TABLE IF EXISTS "teaching_histories"; CREATE TABLE "teaching_histories" ( "id SERIAL PRIMARY KEY, "faculty_id" int NOT NULL, "course_code" VARCHAR(255) NOT NULL, "course_title" VARCHAR(255) NOT NULL, "semester" VARCHAR(255) NOT NULL, "academic_year" int NOT NULL, "units" int NOT NULL DEFAULT '3', "schedule" VARCHAR(255) DEFAULT NULL, "start_time" time DEFAULT NULL, "end_time" time DEFAULT NULL, "room" VARCHAR(255) DEFAULT NULL, "number_of_students" int NOT NULL DEFAULT '0', "rating" decimal(5,2) DEFAULT NULL, "remarks" TEXT, "is_active" BOOLEAN NOT NULL DEFAULT '1', "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL ) ; -- -------------------------------------------------------- -- -- Table structure for table "users" -- DROP TABLE IF EXISTS "users"; CREATE TABLE "users" ( "id SERIAL PRIMARY KEY, "name" VARCHAR(255) NOT NULL, "email" VARCHAR(255) NOT NULL, "email_verified_at" TIMESTAMP NULL DEFAULT NULL, "password" VARCHAR(255) NOT NULL, "remember_token" VARCHAR(100) DEFAULT NULL, "created_at" TIMESTAMP NULL DEFAULT NULL, "updated_at" TIMESTAMP NULL DEFAULT NULL, "role" VARCHAR(255) NOT NULL DEFAULT 'professor', "department" VARCHAR(255) NOT NULL DEFAULT 'BSIT' ) ; -- -- Dumping data for table "users" -- INSERT INTO "users" ("id", "name", "email", "email_verified_at", "password", "remember_token", "created_at", "updated_at", "role", "department") VALUES (1, 'Test User', 'test@example.com', '2025-09-02 23:54:44', '$2y$12$I0tzNh1LcP7lcnjtL.XCyus4/gmVJgViej13LVEN/RzsJJI8Y6hXC', 'svN9btO61N', '2025-09-02 23:54:44', '2025-09-02 23:54:44', 'professor', 'BSIT'), (2, 'Admin', 'admin@bestlink.edu.ph', NULL, '$2y$12$X6EuQ7xKsAD8saRs3gfK8.QoiME4iRcRAjWAyNbO3SxAQssqmU0B2', NULL, '2025-09-02 23:59:49', '2025-09-05 11:41:59', 'admin', 'BSIT'), (3, 'Master Admin', 'master@bestlink.edu.ph', NULL, '$2y$12$O1hjouph02OILiEUzZI3p.6AkxTZRKUamuJBpt2O3f7TexXl4O/0i', NULL, '2025-09-05 11:41:59', '2025-09-05 11:41:59', 'master_admin', 'ALL'), (4, 'BLIS Administrator', 'admin1@bestlink.edu.ph', NULL, '$2y$12$pokpxgjnPgcDDRYVw6rXte06FKoAbNVd4uYMyIiDpSUVcyc8JW016', NULL, '2025-09-05 11:43:56', '2025-09-05 11:43:56', 'admin', 'BLIS'), (5, 'BSOA Administrator', 'admin2@bestlink.edu.ph', NULL, '$2y$12$UqyfZiqixb.I7nulLcpjpeqeVgK8snIRgDsuDZdc1GrzTdx8b1t02', NULL, '2025-09-05 11:55:32', '2025-09-05 11:55:32', 'admin', 'BSOA'); -- -- Indexes for dumped tables -- -- -- Indexes for table "attendances" -- ALTER TABLE "attendances" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "attendances_faculty_id_date_unique" ("faculty_id","date"), ADD KEY "attendances_date_index" ("date"), ADD KEY "attendances_faculty_id_date_index" ("faculty_id","date"), ADD KEY "attendances_status_index" ("status"); -- -- Indexes for table "cache" -- ALTER TABLE "cache" ADD PRIMARY KEY ("key"); -- -- Indexes for table "cache_locks" -- ALTER TABLE "cache_locks" ADD PRIMARY KEY ("key"); -- -- Indexes for table "clearances" -- ALTER TABLE "clearances" ADD PRIMARY KEY ("id"), ADD KEY "faculty_id" ("faculty_id"); -- -- Indexes for table "clearance_requests" -- ALTER TABLE "clearance_requests" ADD PRIMARY KEY ("id"), ADD KEY "processed_by" ("processed_by"), ADD KEY "clearance_requests_clearance_type_status_index" ("clearance_type","status"), ADD KEY "clearance_requests_faculty_id_status_index" ("faculty_id","status"); -- -- Indexes for table "evaluations" -- ALTER TABLE "evaluations" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "eval_faculty_teaching_period_unique" ("faculty_id","teaching_history_id","evaluation_period"), ADD KEY "teaching_history_id" ("teaching_history_id"), ADD KEY "evaluations_faculty_id_academic_year_semester_index" ("faculty_id","academic_year","semester"); -- -- Indexes for table "faculties" -- ALTER TABLE "faculties" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "faculties_email_unique" ("email"), ADD UNIQUE KEY "faculties_professor_id_unique" ("professor_id"); -- -- Indexes for table "faculty_salary_grade" -- ALTER TABLE "faculty_salary_grade" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "faculty_salary_grade_unique" ("faculty_id","salary_grade_id","effective_date"), ADD KEY "salary_grade_id" ("salary_grade_id"), ADD KEY "faculty_salary_grade_faculty_id_is_current_index" ("faculty_id","is_current"); -- -- Indexes for table "failed_jobs" -- ALTER TABLE "failed_jobs" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "failed_jobs_uuid_unique" ("uuid"); -- -- Indexes for table "jobs" -- ALTER TABLE "jobs" ADD PRIMARY KEY ("id"), ADD KEY "jobs_queue_index" ("queue"); -- -- Indexes for table "job_batches" -- ALTER TABLE "job_batches" ADD PRIMARY KEY ("id"); -- -- Indexes for table "leave_requests" -- ALTER TABLE "leave_requests" ADD PRIMARY KEY ("id"), ADD KEY "faculty_id" ("faculty_id"); -- -- Indexes for table "migrations" -- ALTER TABLE "migrations" ADD PRIMARY KEY ("id"); -- -- Indexes for table "password_reset_tokens" -- ALTER TABLE "password_reset_tokens" ADD PRIMARY KEY ("email"); -- -- Indexes for table "payslips" -- ALTER TABLE "payslips" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "payslips_faculty_id_year_month_unique" ("faculty_id","year","month"), ADD KEY "payslips_status_index" ("status"), ADD KEY "payslips_year_month_index" ("year","month"); -- -- Indexes for table "salary_grades" -- ALTER TABLE "salary_grades" ADD PRIMARY KEY ("id"), ADD KEY "salary_grades_department_index" ("department"); -- -- Indexes for table "schedule_assignments" -- ALTER TABLE "schedule_assignments" ADD PRIMARY KEY ("id"), ADD KEY "schedule_assignments_faculty_id_academic_year_semester_index" ("faculty_id","academic_year","semester"), ADD KEY "schedule_assignments_schedule_day_start_time_end_time_index" ("schedule_day","start_time","end_time"), ADD KEY "schedule_assignments_status_index" ("status"), ADD KEY "schedule_assignments_subject_code_section_index" ("subject_code","section"); -- -- Indexes for table "sessions" -- ALTER TABLE "sessions" ADD PRIMARY KEY ("id"), ADD KEY "sessions_last_activity_index" ("last_activity"), ADD KEY "sessions_user_id_index" ("user_id"); -- -- Indexes for table "subject_load_trackers" -- ALTER TABLE "subject_load_trackers" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "unique_subject_assignment" ("faculty_id","subject_code","section","academic_year","semester"), ADD KEY "subject_load_trackers_faculty_id_academic_year_semester_index" ("faculty_id","academic_year","semester"), ADD KEY "subject_load_trackers_schedule_day_start_time_end_time_index" ("schedule_day","start_time","end_time"), ADD KEY "subject_load_trackers_status_index" ("status"), ADD KEY "subject_load_trackers_subject_section_year_sem_index" ("subject_code","section","academic_year","semester"); -- -- Indexes for table "teaching_histories" -- ALTER TABLE "teaching_histories" ADD PRIMARY KEY ("id"), ADD KEY "teaching_histories_faculty_id_academic_year_semester_index" ("faculty_id","academic_year","semester"); -- -- Indexes for table "users" -- ALTER TABLE "users" ADD PRIMARY KEY ("id"), ADD UNIQUE KEY "users_email_unique" ("email"); -- -- for dumped tables -- -- -- for table "attendances" -- ALTER TABLE "attendances" MODIFY "id" int NOT NULL ; -- -- for table "clearances" -- ALTER TABLE "clearances" MODIFY "id" int NOT NULL ; -- -- for table "clearance_requests" -- ALTER TABLE "clearance_requests" MODIFY "id" int NOT NULL ; -- -- for table "evaluations" -- ALTER TABLE "evaluations" MODIFY "id" int NOT NULL ; -- -- for table "faculties" -- ALTER TABLE "faculties" MODIFY "id" int NOT NULL ; -- -- for table "faculty_salary_grade" -- ALTER TABLE "faculty_salary_grade" MODIFY "id" int NOT NULL ; -- -- for table "failed_jobs" -- ALTER TABLE "failed_jobs" MODIFY "id" int NOT NULL ; -- -- for table "jobs" -- ALTER TABLE "jobs" MODIFY "id" int NOT NULL ; -- -- for table "leave_requests" -- ALTER TABLE "leave_requests" MODIFY "id" int NOT NULL ; -- -- for table "migrations" -- ALTER TABLE "migrations" MODIFY "id" int NOT NULL ; -- -- for table "payslips" -- ALTER TABLE "payslips" MODIFY "id" int NOT NULL ; -- -- for table "salary_grades" -- ALTER TABLE "salary_grades" MODIFY "id" int NOT NULL ; -- -- for table "schedule_assignments" -- ALTER TABLE "schedule_assignments" MODIFY "id" int NOT NULL ; -- -- for table "subject_load_trackers" -- ALTER TABLE "subject_load_trackers" MODIFY "id" int NOT NULL ; -- -- for table "teaching_histories" -- ALTER TABLE "teaching_histories" MODIFY "id" int NOT NULL ; -- -- for table "users" -- ALTER TABLE "users" MODIFY "id" int NOT NULL ; -- -- Constraints for dumped tables -- -- -- Constraints for table "attendances" -- ALTER TABLE "attendances" ADD CONSTRAINT "attendances_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "clearances" -- ALTER TABLE "clearances" ADD CONSTRAINT "clearances_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "clearance_requests" -- ALTER TABLE "clearance_requests" ADD CONSTRAINT "clearance_requests_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE, ADD CONSTRAINT "clearance_requests_ibfk_2" FOREIGN KEY ("processed_by") REFERENCES "users" ("id") ON DELETE SET NULL; -- -- Constraints for table "evaluations" -- ALTER TABLE "evaluations" ADD CONSTRAINT "evaluations_ibfk_1" FOREIGN KEY ("teaching_history_id") REFERENCES "teaching_histories" ("id") ON DELETE SET NULL, ADD CONSTRAINT "evaluations_ibfk_2" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "faculty_salary_grade" -- ALTER TABLE "faculty_salary_grade" ADD CONSTRAINT "faculty_salary_grade_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE, ADD CONSTRAINT "faculty_salary_grade_ibfk_2" FOREIGN KEY ("salary_grade_id") REFERENCES "salary_grades" ("id") ON DELETE CASCADE; -- -- Constraints for table "leave_requests" -- ALTER TABLE "leave_requests" ADD CONSTRAINT "leave_requests_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "payslips" -- ALTER TABLE "payslips" ADD CONSTRAINT "payslips_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "schedule_assignments" -- ALTER TABLE "schedule_assignments" ADD CONSTRAINT "schedule_assignments_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "subject_load_trackers" -- ALTER TABLE "subject_load_trackers" ADD CONSTRAINT "subject_load_trackers_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; -- -- Constraints for table "teaching_histories" -- ALTER TABLE "teaching_histories" ADD CONSTRAINT "teaching_histories_ibfk_1" FOREIGN KEY ("faculty_id") REFERENCES "faculties" ("id") ON DELETE CASCADE; COMMIT; 